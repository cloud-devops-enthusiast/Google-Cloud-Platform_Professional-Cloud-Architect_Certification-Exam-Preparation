**Compute Engine and Load Balancing for Architects**

- Availability
  - This is the percentage of time an application provides the operations expected out of it.
    - Example: 99.99% availability. Also called four 9's availability.
  - Availability is more about the applications availability when users need them.
    - Availability of 99.95% comes with roughly 22 minutes of downtime in a month.
    - Availability of 99.99% comes with roughly 4 and half minutes of downtime in a month. This is about the most online applications aim for 99.99%(four 9's) availability.
    - Availability of 99.999% comes with just 26 seconds of downtime in a month. Where achieving 5.9's availability is very difficult.

- High Availability Architecture for compute engine and Load balancing
  - Multiple regional instance groups for each microservice.
  - Distribute load using a global HTTP(S) load balancer.
  - Configure health checks for instacne group and load balancing. (Providing ease to replace)
  - Enable live migration for VM instances.
  - Advantages:
    - Instances distributed across multiple regions. (You can have better fault tolerance like if your one zone region goes down, you can still have your application running in another region.)
    - Global load balancing is highly available.
    - Health checks ensure that only healthy instances are added to the load balancer and replacing with healthy instance when needed.

- Scalability
  - Can we handle a growth in users, traffic, or data size without any drop in performance?
  - Does ability to serve more growth increase the popularity with resources? Like there is a sudden increase to some application and it is required to scale up.
  - Ability to adapt to changes in demand(based on users and data).
  - What can be the options for doing so,
    - You can deploy to a bigger instance with bigger CPU and more amount of memory.
    - You can also increase the number of application instances and setup a load balancer.

- **Vertical Scaling** (Increasing the size of the instance)
  - Vertical scaling is the process in which we deploy application/database to a bigger instance where it can be A larger hard drive, A faster CPU, or more memory or networking capabilities.
  - There are certain limits to the Vertical Scaling, there is a limit to how much CPU can you have.

- **Horizontal Scaling** (Increasing the number of instances)
  - Deploying multiple instances of application/database, here instead of having single database you can distribute the data across multiple servers.
  - Typically, Horizontal scaling is preferred to Vertical scaling.
    - Vertical Scaling has limits.
    - Vertical Scaling can be expensive.
    - Horizontal Scaling increases availability.
  - (As of) Horizontal scaling needs additional infrastructure: load balancers, etc.

- Vertical scaling for GCE VMs
  - For understanding the vertical scaling in GCE, You will be increasing the VM machine size or you can go from one machine family to another machine family or add GPU or TPU to your VM.
  - Before you do change in machine type you need to stop the machine and then change the machine type and then start the machine again.

- Horizontal scaling for GCE VMs
  - Distribute VM instances:
    - In a single zone.
    - In multiple zones in single region.
    - In multiple zones across multiple regions.
  - Auto Scale: Managed instance groups.
  - Distribute Load: Cloud Load Balancing

- Compute Engine: Live migration and Available Policy
  - It is a certain condition where your VMs are running while your host machine needs to be updated.
  - Live Migration:
    - Your instances running is migrated to another host in the same zone as of your VMs.
    - Does not change any attributes or properties of your VMs.
    - SUPPORTED for instances with local SSDs.
    - NOT SUPPORTED for GPUs and preemptible instances.
  - Available Policy: Here you can configure the live migration policy for your VMs.
    - On Host maintenance: This is where you will configure, as what should happen during the periodic infrastructure maintenance.
      - Migrate (*Default*): Migrate your VMs to another host or to the other hardware.
      - Terminate: Stop your VM instances.
    - Automatic Restart: Restart VM instances if they are terminated due to non-user-initiated reasons (maintainence alerts. hardware failures, etc.).
  - Note: You can find these options while creating instance in Management, Security, Disks, Networking, Sole Tenancy, where you can find the option for Available Policy.