**App Engine**

- It's the simplest way to deploy and scale your application in GCP.
  - This provides end-to-end application management.
- The app engine supports GO, Java, .net, Node.js, PHP, Python, Ruby, using pre-configured runtime environments. This use custom run-time and write code in any language.
- Here you can connect with variety of google cloud storage products(Cloud SQL etc).
- No Usage Charges - Pay for resources provisioned.
- Features:
  - Automatic load balancing and Auto scaling.
  - Managed platform updates and application health monitoring.
  - Application Versioning.
  - Traffic splitting.

**Compute Engine vs App Engine**

* Compute Engine
  - IaaS
  - More Flexibility
  - More Responsibility and Control
    - Choosing Image
    - Installing the software above them
    - Choosing the hardware
    - Fine grained Access/ Permissions (Certificates/Firewalls)
    - Availability

* App Engine
  - PaaS
  - Serverless
  - Less Responsibility and Control
  - Lower Flexibility
    - You can't choose GPU and TPU with App Engine.

**App Engine Environment**

- *Standard*: Applications run in language specific sandboxes
  - Complete isolation from OS/Disk/other Apps
  - V1: Java, Python, PHP, Go (Old version)
    - Only for Python and PHP runtimes
      - Restricted network access
      - Only white-listed extensions and libraries are allowed
    - No restrictions for Java and Go runtimes
  - V2: Java, Python, PHP, Go, Node.js, Ruby, .NET (New version)
    - Full network access and No restrictions on extensions and libraries
- *Flexible*: Applications instances run within docker containers.
  - Makes use of compute engine virtual machines
  - Support any runtime environment (Providing built-in support for Python, Java, Node.js, PHP, Go, Ruby or .NET)
  - Provides access to background processes and local disks
  - If you can make applications with any language and make them run in containers, you can run them in App Engine Flexible Environment.

**App Engine: Application Component Hierarchy**

- Application: One application per project.
- Service(s): Multiple microservices or App Components.
  - You can have multiple service in a single application.
  - Each service can have different settings.
  - Earlier services are used to be called as modules.
- Version: Multiple versions of a service. Each version associated with code and configuration
  - Each version can run in one or more instances.
  - Multiple versions can co-exist in a single service.
  - Provides option to roll back and split traffic.

**App Engine: Comparison**

- Standard
  - Pricing Factors: Instance Hours
  - Scaling: Manual(When you have full access and control), Basic(for ad-hoc workloads), Automatic(When you have continuous flow of traffic)
  - Scaling to Zero: Yes
  - Instance startup time: Seconds
  - Rapid Scaling Support: Yes
  - Max. Request timeout: 1 to 10 minutes
  - Local disk: Mostly(except for Python, PHP). Can write to /tmp.
  - SSH for debugging: No
- Flexible
  - Pricing Factors: vCPU, Memory and Persistent disks
  - Scaling: Manual, Automatic
  - Scaling to Zero: No, minimum one instance is required.
  - Instance startup time: Minutes
  - Rapid Scaling Support: No
  - Max. Request timeout: 60 minutes
  - Local disk: Yes. Ephemeral. New disk on startup.
  - SSH for debugging: Yes

**App Engine: Scaling Instances**

- Automatic- Automatically scale instances based on the load:
  - Recommended for continously running workloads.
    - Auto Scale based on:
      - *Target CPU Utilization*: Configure a CPU usage threshold.
      - *Target Throughput Utilization*: Configure a throughput threshold.
      - *Max Concurrent Requests*: Configure max concurrent requests an instance can receive.
    - Configure Max Instances and Min Instances.
- Basic- Instances are created as and when requests are received.
  - Recommended for ad-hoc workloads.
    - Instances are shutdown if ZERO requests.
      - Tries to keep the costs as low as possible.
      - High latency is possible. (As it takes time to create instances when there is no instance running)
    - Not supported by app engine flexible environment.
    - Configure Max Instances and Idle Timeout.
- Manual- Configure Specific number of instances to run.
  - Adjust number of instances manually over time.

